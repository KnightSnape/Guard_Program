<launch>

    <include file="$(find navigation_node)/launch/2d_map_server.launch"/>

    <node name="navigation_node" pkg="navigation_node" type="navigation_node" output="screen"/>

    <node name="move_base" pkg="move_base" type="move_base" respawn="false" output="screen">
        <param name="base_global_planner" value="navfn/NavfnROS"/>
        <param name="base_local_planner" value="base_local_planner/TrajectoryPlannerROS"/>
        <param name="controller_frequency" value="10.0"/>
        <param name="planner_frequency" value="1.0"/>
        <param name="max_vel_x" value="0.7"/>
        <param name="min_vel_x" value="0.1"/>
        <param name="max_vel_theta" value="1.0"/>
        <param name="min_vel_theta" value="-1.0"/> 
        <param name="update_frequency" value="5.0"/>
        <param name="planner_patience" value="5.0"/>
        <param name="planner_goal_tolerance" value="0.1"/>
        <param name="global_costmap/robot_radius" value="0.3"/>
        <param name="global_costmap/footprint" value="[[-0.25,-0.25],[0.25,-0.25],[0.25,0.25],[-0.25,0.25]]"/>
        <param name="local_costmap/robot_radius" value="0.3"/>
        <param name="local_costmap/footprint" value="[[-0.25,-0.25],[0.25,-0.25],[0.25,0.25],[-0.25,0.25]]"/>
        <param name="meter_scoring" value="true"/>
        <remap from="/cmd_vel" to="/turtlebot/cmd_vel"/>
        <remap from="/Odometry_2d" to="/turtlebot/odom"/>
        <remap from="/map" to="/turtlebot/map"/>
    </node>

    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find navigation_node)/rviz/navigation_2d.rviz"/>
</launch>